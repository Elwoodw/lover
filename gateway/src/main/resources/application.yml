server:
  port: 8084 #运行端口号
spring:
  application:
    name: gateway #服务名称
  main:
    web-application-type: reactive
  redis:
    host: localhost
    port: 6379
  cloud:
    gateway:
      globalcors: #全局跨域配置
        corsConfigurations:
          '[/**]':
            allowedOriginPatterns: "*"
            exposedHeaders:
              - content-type
            allowedHeaders:
              - content-type
            allowCredentials: true
            allowedMethods:
                - GET
                - OPTIONS
                - PUT
                - DELETE
                - POST
      routes:
        - id: limit_route
          uri: http://httpbin.org:80/get
          predicates:
            - Method=POST
          filters:
            - name: RequestRateLimiter
              args:
                redis-rate-limiter.replenishRate: 1
                redis-rate-limiter.burstCapacity: 3
                key-resolver: "#{@uriKeyResolver}"
        - id: fuse_route
          uri: http://httpbin.org:80/get
          predicates:
              - Method=GET
          filters:
            filters:
              - name: Hystrix
                args:
                  name: fallbackCmd
                  fallbackUri: forward:/fallback

hystrix.command.fallbackCmd.execution.isolation.thread.timeoutInMilliseconds: 5000



eureka:
  client:
    register-with-eureka: true #注册到Eureka的注册中心
    fetch-registry: true #获取注册实例列表
    service-url:
      defaultZone: http://root:root@localhost:8001/eureka/ #配置注册中心地址

